{% extends 'base.html' %}
{% block title %} Home {% endblock %}
{% block content %}
<div class="my-3 mx-5">

    <div class="card mx-auto" style="margin-top: 10%; width: 30%; border-radius: 15px;">
        {% if status=='404' %}
        <div class="alert alert-danger mx-3 mt-2 text-center" role="alert">
            This email has already been used!
        </div>
        {% endif %}

        <h2 class="card-title mx-auto my-3 text-monospace">
            Register    
        </h2>
        <div class="card-body mx-auto" style="width: 85%;">
            <form name="signupForm" onsubmit="return validateForm()" method="POST">
                <div class="form-group">
                  <input type="email" class="form-control" name="email" aria-describedby="emailHelp" placeholder="ðŸ“§ Enter email" required>
                </div>
                <div class="form-group">
                  <input type="password" class="form-control" name="password" placeholder="ðŸ”‘ Password" required>
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" name="confirmPassword" placeholder="ðŸ”‘ Confirm Password" required>
                </div>
                <center>
                    <button type="submit" class="btn btn-success align-center mt-3 w-100">Register</button>
                    <small class="form-text text-muted mt-3">Already registered? <a href="/signin">Sign In</a></small>
                </center>
            </form>
        </div>
      </div>
    
</div>

<!-- Form Validation -->
<script>

function validateForm() {
    let form = document.forms["signupForm"]
    let email = form["email"].value
    let password = form["password"].value
    let confirmPassword = form["confirmPassword"].value

    if(password != confirmPassword) {
        alert("Password and Confirm Password not matching!")
        return false
    }

    if(password.length < 8 || confirmPassword.length < 8) {
        alert("Password must atleast be 8 characters long!")
        return false
    }
}

</script>

{% endblock %}